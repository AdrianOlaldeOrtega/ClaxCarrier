{% extends "base.html" %}
{% load static %}
{% block titulo %}Editar Producto{% endblock titulo %}
{% block cabecera %}
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
<meta name="generator" content="Hugo 0.88.1">


<link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/checkout/">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script src="https://unpkg.com/feather-icons"></script>
    <!-- Bootstrap core CSS -->
<link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>


    <!-- Custom styles for this template -->
    <link href="form-validation.css" rel="stylesheet">
{% endblock cabecera %}
{% block cuerpo %}
<div class="container">
  <main>
    <div class="py-5 text-center">
      <img class="d-block mx-auto mb-4" src="{% static 'images/icono-editarinfo.png' %}" alt="" width="100" height="100">
      <h2>Editar Producto</h2>
      <p class="lead">Por Favor Llene Los Siguientes Datos</p>
    </div>
        <form class="needs-validation" novalidate action= "{% url 'actualizarProducto' producto.id %}" method="POST">
	 {% csrf_token %}
          <div class="row g-3">
            <div class="col-sm-4">
              <label for="NombreProducto" class="form-label">Nombre</label>
              <input type="text" class="form-control" id="NombreProducto" name="NombreProducto" placeholder="" value="{{producto.nombre}}" required>
              <div class="invalid-feedback">
                El Nombre del Producto es requerido.
              </div>
            </div>
            <div class="col-md-4">
                <label for="CategoriaProducto" class="form-label">Categoria</label>
                {% if producto.categoria == "Videovigilancia" %}
                <select class="form-select" name = "CategoriaProducto" id="CategoriaProducto" required>
                  <option selected>Videovigilancia</option>
                  <option >Redes Computacionales</option>
                  <option >Energias Limpias</option>
                </select>
                {% else %}
                {% if producto.categoria == "Redes Computacionales" %}
                <select class="form-select" name = "CategoriaProducto" id="CategoriaProducto" required>
                  <option >Videovigilancia</option>
                  <option selected>Redes Computacionales</option>
                  <option >Energias Limpias</option>
                </select>
                {% else %}
                <select class="form-select" name = "CategoriaProducto" id="CategoriaProducto" required>
                  <option >Videovigilancia</option>
                  <option >Redes Computacionales</option>
                  <option selected>Energias Limpias</option>
                </select>
                {% endif %}
                {% endif %}
              </div>

            <div class="col-sm-4">
              <label for="PrecioProducto" class="form-label">Precio ($)</label>
              <input type="number" class="form-control" min="0" id="PrecioProducto" name="PrecioProducto" onkeypress='return validaNumericos(event)' placeholder="" value="{{producto.precio}}" required>
              <div class="invalid-feedback">
                El Precio es requerido.
              </div>
            </div>
            <div class="col-md-12">
                <label for="URLImagenProducto" class="form-label">URL imagen</label>
               <input type="text" class="form-control" id="URLImagenProducto" name="URLImagenProducto" placeholder="" value="{{producto.urlImagen}}" required>
                <div class="invalid-feedback">
                  La Imagen es requerida.
                </div>
              </div>
            
            <div class="col-md-12">
              <label for="DescripcionProducto" class="form-label">Descripción</label>
             <input type="text" class="form-control" id="DescripcionProducto" name="DescripcionProducto" placeholder="" value="{{producto.descripcion}}" required>
              <div class="invalid-feedback">
                La Descripción es requerida.
              </div>
            </div>
            

          <hr class="my-4">

  <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">Enviar </button>
  <a type="button" class="btn btn-outline-secondary" href = "{% url 'almacenHome' %}"> Cancelar </a>
  <a type="button" class="btn btn-outline-secondary" id = "Vacio" href = "{% url 'almacenHome' %}"> Cancelar </a>
  
  <div class="row"></div>
<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modificación del Producto</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        ¿Desea agregar estos nuevos datos al Producto?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        <button type="submit" class="btn btn-primary">Guardar</button>
      </div>
    </div>
  </div>
</div>
        </form>
    </div>
  </main>
</div>
{% endblock cuerpo %}



  {% block piePaigna %}
  <script src="https://getbootstrap.com/docs/5.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
      <script src="https://getbootstrap.com/docs/5.2/examples/checkout/form-validation.js"></script>
  <script>
    feather.replace()
  </script>
  <script>
    document.getElementById('Vacio').style.visibility = "hidden";
</script>
  <script>
    function validaNumericos(event) {
        if(event.charCode >= 48 && event.charCode <= 57){
          return true;
         }
         return false;        
    }
  </script>
  {% endblock piePaigna %}
